(function($){return $.fn.ajaxChosen=function(settings,callback,chosenOptions){var chosenXhr,defaultOptions,options,select;if(settings==null){settings={};}
if(chosenOptions==null){chosenOptions={};}
defaultOptions={minTermLength:0,afterTypeDelay:500,addSearchTermOnNorecord:0,noLocationUrl:0,jsonTermKey:"term",jsonTermKeyObject:"term",keepTypingMsg:"Keep typing...",lookingForMsg:"Looking for"};select=this;chosenXhr=null;options=$.extend({},defaultOptions,$(select).data(),settings);this.chosen(chosenOptions?chosenOptions:{});return this.each(function(){return $(this).next('.geodir-chosen-container').find(".search-field > input, .chosen-search > input").bind('keyup',function(){var field,msg,success,untrimmed_val,val;untrimmed_val=$(this).val();val=$.trim($(this).val());msg=val.length<options.minTermLength?options.keepTypingMsg:options.lookingForMsg+(" '"+val+"'");select.next('.geodir-chosen-container').find('.no-results').text(msg);$(this).data('prevVal',val);if(this.timer){clearTimeout(this.timer);}
if(val.length<options.minTermLength){return false;}
if(val.length==0)
{select.find('option').each(function(){return $(this).remove();});$("<option />").attr('value','').html('').appendTo(select);select.trigger("chosen:updated");}
field=$(this);if(options.data==null){options.data={};}
options.data[options.jsonTermKey]=val;if(options.dataCallback!=null){options.data=options.dataCallback(options.data);}
success=options.success;if(options.success==null)
{options.success=function(data){var items,nbItems,selected_values;if(data==null){return;}
selected_values=[];select.find('option').each(function(){if(!$(this).is(":selected")){return $(this).remove();}else{return selected_values.push($(this).val()+"-"+$(this).text());}});select.find('optgroup:empty').each(function(){return $(this).remove();});items=callback!=null?callback(data,field):data;nbItems=0;$.each(items,function(i,element){var group,text,value;nbItems++;if(element.group){group=select.find("optgroup[label='"+element.text+"']");if(!group.size()){group=$("<optgroup />");}
group.attr('label',element.text).appendTo(select);return $.each(element.items,function(i,element){var text,value;if(typeof element==="string"){value=i;text=element;}else{value=element.value;text=element.text;}
if($.inArray(value+"-"+text,selected_values)===-1)
{return $("<option />").attr('value',value).html(text).appendTo(group);}});}else{if(typeof element==="string"){value=i;text=element;}else{value=element.value;text=element.text;}
if($.inArray(value+"-"+text,selected_values)===-1)
{return $("<option />").attr('value',value).html(text).appendTo(select);}}});if(nbItems){select.trigger("chosen:updated");}else{select.data().chosen.no_results_clear();select.data().chosen.no_results(field.val());}
if(settings.success!=null){settings.success(data);}};}
return this.timer=setTimeout(function(){if(chosenXhr){chosenXhr.abort();}
return chosenXhr=$.ajax(options);},options.afterTypeDelay);});});};})(jQuery);;function geodir_get_popup_forms(e,ele,clk_class,popup_id){var ajax_url=geodir_var.geodir_ajax_url;var append_class=ele.closest('li');if(ele.closest('.geodir-company_info').length>0)
append_class=ele.closest('.geodir-company_info');var post_id=append_class.find('input[name="geodir_popup_post_id"]').val()
jQuery.gdmodal('<div id="basic-modal-content" class="clearfix simplemodal-data" style="display: block;"><div class="geodir-modal-loading"><i class="fa fa-refresh fa-spin "></i></div></div>');jQuery.post(ajax_url,{popuptype:clk_class,post_id:post_id}).done(function(data){append_class.find('.geodir_display_popup_forms').append(data);e.preventDefault();jQuery.gdmodal.close();jQuery('#'+popup_id).gdmodal({persist:true,onClose:function(){jQuery.gdmodal.close({overlayClose:true});append_class.find('.geodir_display_popup_forms').html('');},});});}
jQuery(document).ready(function(){jQuery('a.b_sendtofriend').click(function(e){geodir_get_popup_forms(e,jQuery(this),'b_sendtofriend','basic-modal-content');});jQuery('a.b_send_inquiry').click(function(e){geodir_get_popup_forms(e,jQuery(this),'b_send_inquiry','basic-modal-content2');});});function geodir_popup_validate_field(field){var is_error=true;erro_msg='';switch(jQuery(field).attr('field_type')){case'email':var filter=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;if(field.value==''){erro_msg=geodir_all_js_msg.geodir_field_id_required;}
if(field.value!=''&&!filter.test(field.value)){erro_msg=geodir_all_js_msg.geodir_valid_email_address_msg;}
if(field.value!=''&&filter.test(field.value)){is_error=false;}
break;case'text':case'textarea':if(field.value!=''){is_error=false;}else{erro_msg=geodir_all_js_msg.geodir_field_id_required;}
break;}
if(is_error){if(erro_msg){jQuery(field).closest('div').find('span.message_error2').html(erro_msg)}
jQuery(field).closest('div').find('span.message_error2').fadeIn();return false;}else{jQuery(field).closest('div').find('span.message_error2').html('');jQuery(field).closest('div').find('span.message_error2').fadeOut();return true;}}
jQuery(document).ready(function(){jQuery(document).delegate("#agt_mail_agent .is_required:visible,#send_to_frnd .is_required:visible","blur",function(ele){geodir_popup_validate_field(this);});jQuery(document).delegate("#agt_mail_agent, #send_to_frnd","submit",function(ele){var popup_is_validate=true;jQuery(this).find(".is_required:visible").each(function(){if(!geodir_popup_validate_field(this))
popup_is_validate=geodir_popup_validate_field(this);});if(popup_is_validate){return true;}else{return false;}});});;(function(t){"use strict";function e(t,e,r){return t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent?t.attachEvent("on"+e,r):void 0}function r(t,e){var r,n;for(r=0,n=t.length;n>r;r++)if(t[r]===e)return!0;return!1}function n(t,e){var r;t.createTextRange?(r=t.createTextRange(),r.move("character",e),r.select()):t.selectionStart&&(t.focus(),t.setSelectionRange(e,e))}function a(t,e){try{return t.type=e,!0}catch(r){return!1}}t.Placeholders={Utils:{addEventListener:e,inArray:r,moveCaret:n,changeType:a}}})(this),function(t){"use strict";function e(){}function r(){try{return document.activeElement}catch(t){}}function n(t,e){var r,n,a=!!e&&t.value!==e,u=t.value===t.getAttribute(V);return(a||u)&&"true"===t.getAttribute(D)?(t.removeAttribute(D),t.value=t.value.replace(t.getAttribute(V),""),t.className=t.className.replace(R,""),n=t.getAttribute(F),parseInt(n,10)>=0&&(t.setAttribute("maxLength",n),t.removeAttribute(F)),r=t.getAttribute(P),r&&(t.type=r),!0):!1}function a(t){var e,r,n=t.getAttribute(V);return""===t.value&&n?(t.setAttribute(D,"true"),t.value=n,t.className+=" "+I,r=t.getAttribute(F),r||(t.setAttribute(F,t.maxLength),t.removeAttribute("maxLength")),e=t.getAttribute(P),e?t.type="text":"password"===t.type&&M.changeType(t,"text")&&t.setAttribute(P,"password"),!0):!1}function u(t,e){var r,n,a,u,i,l,o;if(t&&t.getAttribute(V))e(t);else for(a=t?t.getElementsByTagName("input"):b,u=t?t.getElementsByTagName("textarea"):f,r=a?a.length:0,n=u?u.length:0,o=0,l=r+n;l>o;o++)i=r>o?a[o]:u[o-r],e(i)}function i(t){u(t,n)}function l(t){u(t,a)}function o(t){return function(){m&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(D)?M.moveCaret(t,0):n(t)}}function c(t){return function(){a(t)}}function s(t){return function(e){return A=t.value,"true"===t.getAttribute(D)&&A===t.getAttribute(V)&&M.inArray(C,e.keyCode)?(e.preventDefault&&e.preventDefault(),!1):void 0}}function d(t){return function(){n(t,A),""===t.value&&(t.blur(),M.moveCaret(t,0))}}function g(t){return function(){t===r()&&t.value===t.getAttribute(V)&&"true"===t.getAttribute(D)&&M.moveCaret(t,0)}}function v(t){return function(){i(t)}}function p(t){t.form&&(T=t.form,"string"==typeof T&&(T=document.getElementById(T)),T.getAttribute(U)||(M.addEventListener(T,"submit",v(T)),T.setAttribute(U,"true"))),M.addEventListener(t,"focus",o(t)),M.addEventListener(t,"blur",c(t)),m&&(M.addEventListener(t,"keydown",s(t)),M.addEventListener(t,"keyup",d(t)),M.addEventListener(t,"click",g(t))),t.setAttribute(j,"true"),t.setAttribute(V,x),(m||t!==r())&&a(t)}var b,f,m,h,A,y,E,x,L,T,N,S,w,B=["text","search","url","tel","email","password","number","textarea"],C=[27,33,34,35,36,37,38,39,40,8,46],k="#ccc",I="placeholdersjs",R=RegExp("(?:^|\\s)"+I+"(?!\\S)"),V="data-placeholder-value",D="data-placeholder-active",P="data-placeholder-type",U="data-placeholder-submit",j="data-placeholder-bound",q="data-placeholder-focus",z="data-placeholder-live",F="data-placeholder-maxlength",G=document.createElement("input"),H=document.getElementsByTagName("head")[0],J=document.documentElement,K=t.Placeholders,M=K.Utils;if(K.nativeSupport=void 0!==G.placeholder,!K.nativeSupport){for(b=document.getElementsByTagName("input"),f=document.getElementsByTagName("textarea"),m="false"===J.getAttribute(q),h="false"!==J.getAttribute(z),y=document.createElement("style"),y.type="text/css",E=document.createTextNode("."+I+" { color:"+k+"; }"),y.styleSheet?y.styleSheet.cssText=E.nodeValue:y.appendChild(E),H.insertBefore(y,H.firstChild),w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=N.attributes.placeholder,x&&(x=x.nodeValue,x&&M.inArray(B,N.type)&&p(N));L=setInterval(function(){for(w=0,S=b.length+f.length;S>w;w++)N=b.length>w?b[w]:f[w-b.length],x=N.attributes.placeholder,x?(x=x.nodeValue,x&&M.inArray(B,N.type)&&(N.getAttribute(j)||p(N),(x!==N.getAttribute(V)||"password"===N.type&&!N.getAttribute(P))&&("password"===N.type&&!N.getAttribute(P)&&M.changeType(N,"text")&&N.setAttribute(P,"password"),N.value===N.getAttribute(V)&&(N.value=x),N.setAttribute(V,x)))):N.getAttribute(D)&&(n(N),N.removeAttribute(V));h||clearInterval(L)},100)}M.addEventListener(t,"beforeunload",function(){K.disable()}),K.disable=K.nativeSupport?e:i,K.enable=K.nativeSupport?e:l}(this);gd_infowindow=new google.maps.InfoWindow();jQuery(document).ready(function(){var disable_gd_modal=typeof geodir_var.geodir_gd_modal!='undefined'&&parseInt(geodir_var.geodir_gd_modal)==1?true:false;if(!disable_gd_modal){jQuery('#geodir-post-gallery a').lightBox({overlayOpacity:0.5,imageLoading:geodir_var.geodir_plugin_url+'/geodirectory-assets/images/lightbox-ico-loading.gif',imageBtnNext:geodir_var.geodir_plugin_url+'/geodirectory-assets/images/lightbox-btn-next.gif',imageBtnPrev:geodir_var.geodir_plugin_url+'/geodirectory-assets/images/lightbox-btn-prev.gif',imageBtnClose:geodir_var.geodir_plugin_url+'/geodirectory-assets/images/lightbox-btn-close.gif',imageBlank:geodir_var.geodir_plugin_url+'/geodirectory-assets/images/lightbox-blank.gif'});}
jQuery('#geodir_carousel').flexslider({animation:"slide",namespace:"geodir-",selector:".geodir-slides > li",controlNav:false,directionNav:false,animationLoop:false,slideshow:false,itemWidth:75,itemMargin:5,asNavFor:'#geodir_slider'});jQuery('#geodir_slider').flexslider({animation:"slide",selector:".geodir-slides > li",namespace:"geodir-",controlNav:true,animationLoop:true,slideshow:true,sync:"#geodir_carousel",start:function(slider){jQuery('.geodir_flex-loader').hide();jQuery('#geodir_slider').css({'visibility':'visible'});jQuery('#geodir_carousel').css({'visibility':'visible'});}});if(jQuery("select.chosen_select").length>0){jQuery("select.chosen_select").chosen({no_results_text:"Sorry, nothing found!"});jQuery("select.chosen_select_nostd").chosen({allow_single_deselect:'true'});}});jQuery(document).ready(function(){jQuery('.geodir-delete').click(function(){if(confirm(geodir_all_js_msg.my_place_listing_del)){return true;}else
return false;});jQuery('.gd-category-dd').hover(function(){jQuery('.gd-category-dd ul').show();});jQuery('.gd-category-dd ul li a').click(function(ele){jQuery('.gd-category-dd').find('input').val(jQuery(this).attr('data-slug'));jQuery('.gd-category-dd > a').html(jQuery(this).attr('data-name'));jQuery('.gd-category-dd ul').hide();});});jQuery(window).load(function(){jQuery('.geodir-tabs-content').show();tabNoRun=false;function activateTab(tab){if(tabNoRun){tabNoRun=false;return;}
var activeTab=tab.closest('dl').find('dd.geodir-tab-active'),contentLocation=tab.find('a').attr("data-tab")+'Tab';urlHash=tab.find('a').attr("data-tab");if(jQuery(tab).hasClass("geodir-tab-active")){}else{if(typeof urlHash==='undefined'){if(window.location.hash.substring(0,8)=='#comment'){tab=jQuery('*[data-tab="#reviews"]').parent();tabNoRun=true;}}else{window.location.hash=urlHash;}}
activeTab.removeClass('geodir-tab-active');tab.addClass('geodir-tab-active');jQuery(contentLocation).closest('.geodir-tabs-content').children('li').hide();jQuery(contentLocation).fadeIn();jQuery(contentLocation).css({'display':'inline-block'});if(urlHash=='#post_map')
{window.setTimeout(function(){jQuery("#detail_page_map_canvas").goMap();var center=jQuery.goMap.map.getCenter();google.maps.event.trigger(jQuery.goMap.map,'resize');jQuery.goMap.map.setCenter(center);},100);}}
jQuery('dl.geodir-tab-head').each(function(){var tabs=jQuery(this).children('dd');tabs.click(function(e){if(jQuery(this).find('a').attr('data-status')=='enable')
{activateTab(jQuery(this));}});});if(window.location.hash){activateTab(jQuery('a[data-tab="'+window.location.hash+'"]').parent());}
jQuery('.gd-tabs .gd-tab-next').click(function(ele){var is_validate=true;if(is_validate){var tab=jQuery('dl.geodir-tab-head').find('dd.geodir-tab-active').next();if(tab.find('a').attr('data-status')=='enable')
{activateTab(tab);}
if(!jQuery('dl.geodir-tab-head').find('dd.geodir-tab-active').next().is('dd'))
{jQuery(this).hide();jQuery('#gd-add-listing-submit').show();}}});jQuery('#gd-login-options input').change(function(){jQuery('.gd-login_submit').toggle();});jQuery('ul.geodir-tabs-content').css({'z-index':'0','position':'relative'});jQuery('dl.geodir-tab-head dd.geodir-tab-active').trigger('click');});function autofill_click(ele){var fill_value=jQuery(ele).html();jQuery(ele).closest('div.gd-autofill-dl').closest('div.gd-autofill').find('input[type=text]').val(fill_value);jQuery(ele).closest('.gd-autofill-dl').remove();};jQuery(document).ready(function(){jQuery('input[type=text]').keyup(function(){var input_field=jQuery(this);if(input_field.attr('data-type')=='autofill'&&input_field.attr('data-fill')!=''){var data_fill=input_field.attr('data-fill');var fill_value=jQuery(this).val();jQuery.get(geodir_var.geodir_ajax_url,{autofill:data_fill,fill_str:fill_value},function(data){if(data!=''){if(input_field.closest('div.gd-autofill').length==0)input_field.wrap('<div class="gd-autofill"></div>');input_field.closest('div.gd-autofill').find('.gd-autofill-dl').remove();input_field.after('<div class="gd-autofill-dl"></div>');input_field.next('.gd-autofill-dl').html(data);input_field.focus();}});}});jQuery('input[type=text]').parent().mouseleave(function(){jQuery(this).find('.gd-autofill-dl').remove();});jQuery(".trigger").click(function(){jQuery(this).toggleClass("active").next().slideToggle("slow");if(jQuery(".trigger").hasClass("triggeroff")){jQuery(".trigger").removeClass('triggeroff');jQuery(".trigger").addClass('triggeron');}else{jQuery(".trigger").removeClass('triggeron');jQuery(".trigger").addClass('triggeroff');}});jQuery(".trigger_sticky").click(function(){var effect='slide';var options={direction:'right'};var duration=500;var tigger_sticky=jQuery(this);tigger_sticky.hide();jQuery(this).next().toggle(effect,options,duration,function(){tigger_sticky.show();});if(tigger_sticky.hasClass("triggeroff_sticky")){tigger_sticky.removeClass('triggeroff_sticky');tigger_sticky.addClass('triggeron_sticky');setCookie('geodir_stickystatus','shide',1);}else{tigger_sticky.removeClass('triggeron_sticky');tigger_sticky.addClass('triggeroff_sticky');setCookie('geodir_stickystatus','sshow',1);}});});jQuery(document).ready(function(){jQuery('.gd_comment_replaylink a').bind('click',function(){jQuery('#commentform .gd_rating').hide();jQuery('#respond .form-submit input#submit').val(geodir_all_js_msg.gd_cmt_btn_post_reply);jQuery('#respond .comment-form-comment label').html(geodir_all_js_msg.gd_cmt_btn_reply_text);});jQuery('#gd_cancle_replaylink a').bind('click',function(){jQuery('#commentform .gd_rating').show();jQuery('#respond .form-submit input#submit').val(geodir_all_js_msg.gd_cmt_btn_post_review);jQuery('#respond .comment-form-comment label').html(geodir_all_js_msg.gd_cmt_btn_review_text);});});jQuery(document).ready(function(){jQuery('.search_by_post').change(function(){window.location=jQuery(this).find('option:selected').attr('opt_label');});});jQuery(window).load(function(){if(jQuery(".map_background").length==0){jQuery('.geodir-pinpoint').hide();}else{jQuery('.geodir-pinpoint').show();}});function geodir_count_post_term(val){jQuery.post(geodir_all_js_msg.geodir_admin_ajax_url+'?action=geodir_ajax_action',{ajax_action:"geodir_get_term_count",term_array:val}).done(function(data){if(jQuery.trim(data)!=''){var data_array=jQuery.parseJSON(data);resultObj=eval(data_array);for(var index in resultObj){jQuery('.'+index).html(resultObj[index]);}}});}
jQuery(document).ready(function(){if(jQuery('body').find('.geodir_term_class').length){var terms_ids=post_category_array.post_category_array;geodir_count_post_term(terms_ids);}});;(function($){$.fn.jRating=function(op){var defaults={bigStarsPath:'jquery/icons/stars.png',smallStarsPath:'jquery/icons/small.png',phpPath:'php/jRating.php',type:'big',step:false,isDisabled:false,showRateInfo:true,canRateAgain:false,length:5,decimalLength:0,rateMax:20,rateInfosX:-45,rateInfosY:5,nbRates:1,onSuccess:null,onError:null};if(this.length>0)
return this.each(function(){var opts=$.extend(defaults,op),newWidth=0,starWidth=0,starHeight=0,bgPath='',hasRated=false,globalWidth=0,nbOfRates=opts.nbRates;if($(this).hasClass('jDisabled')||opts.isDisabled)
var jDisabled=true;else
var jDisabled=false;getStarWidth();$(this).height(starHeight);var average=parseFloat($(this).attr('data-average')),idBox=parseInt($(this).attr('data-id')),widthRatingContainer=(starWidth*opts.length)-1,widthColor=average/opts.rateMax*widthRatingContainer,quotient=$('<div>',{'class':'jRatingColor',css:{width:widthColor}}).appendTo($(this)),average=$('<div>',{'class':'jRatingAverage',css:{width:0,top:-starHeight}}).appendTo($(this)),jstar=$('<div>',{'class':'jStar',css:{width:widthRatingContainer,height:starHeight,top:-(starHeight*2),background:'url('+bgPath+') repeat-x'}}).appendTo($(this));if(widthColor>0){average.width(widthColor);quotient.width(0);hasRated=true;globalWidth=widthColor;}
$(this).css({width:widthRatingContainer,overflow:'hidden',zIndex:1,position:'relative'});if(!jDisabled)
$(this).unbind().bind({mouseenter:function(e){var realOffsetLeft=findRealLeft(this);var relativeX=e.pageX-realOffsetLeft;if(opts.showRateInfo)
var tooltip=$('<p>',{'class':'jRatingInfos',html:getNote(relativeX)+' <span class="maxRate">/ '+opts.rateMax+'</span>',css:{top:(e.pageY+opts.rateInfosY),left:(e.pageX+opts.rateInfosX)}}).appendTo('body').show();},mouseover:function(e){$(this).css('cursor','pointer');},mouseout:function(){$(this).css('cursor','default');if(hasRated){average.width(globalWidth);}
else{average.width(0);}},mousemove:function(e){var realOffsetLeft=findRealLeft(this);var relativeX=e.pageX-realOffsetLeft;if(opts.step)newWidth=Math.floor(relativeX/starWidth)*starWidth+starWidth;else newWidth=relativeX;average.width(newWidth);if(opts.showRateInfo)
$("p.jRatingInfos").css({left:(e.pageX+opts.rateInfosX)}).html(getNote(newWidth)+' <span class="maxRate">/ '+opts.rateMax+'</span>');},mouseleave:function(){$("p.jRatingInfos").remove();},click:function(e){var element=this;hasRated=true;globalWidth=newWidth;nbOfRates--;if(!opts.canRateAgain||parseInt(nbOfRates)<=0)$(this).unbind().css('cursor','default').addClass('jDisabled');if(opts.showRateInfo)$("p.jRatingInfos").fadeOut('fast',function(){$(this).remove();});e.preventDefault();var rate=getNote(newWidth);average.width(newWidth);$('.datasSent p').html('<strong>idBox : </strong>'+idBox+'<br /><strong>rate : </strong>'+rate+'<br /><strong>action :</strong> rating');$('.serverResponse p').html('<strong>Loading...</strong>');if(opts.onSuccess)opts.onSuccess(element,rate);}});function getNote(relativeX){var noteBrut=parseFloat((relativeX*100/widthRatingContainer)*opts.rateMax/100);switch(opts.decimalLength){case 1:var note=Math.round(noteBrut*10)/10;break;case 2:var note=Math.round(noteBrut*100)/100;break;case 3:var note=Math.round(noteBrut*1000)/1000;break;default:var note=Math.round(noteBrut*1)/1;}
if(note>opts.rateMax){note=opts.rateMax;}
return note;};function getStarWidth(){switch(opts.type){case'small':starWidth=12;starHeight=10;bgPath=opts.smallStarsPath;break;default:starWidth=23;starHeight=20;bgPath=opts.bigStarsPath;}};function findRealLeft(obj){if(!obj)return 0;return obj.offsetLeft+findRealLeft(obj.offsetParent);};});}})(jQuery);;function geodir_click_search($this){jQuery($this).parent().find('.geodir_submit_search').click();}
function addToFavourite(post_id,action)
{var fav_url;if(action=='add')
{fav_url=geodir_all_js_msg.geodir_admin_ajax_url+'/?action=geodir_ajax_action&geodir_ajax=favorite&ajax_action=add&pid='+post_id;}
else
{fav_url=geodir_all_js_msg.geodir_admin_ajax_url+'/?action=geodir_ajax_action&geodir_ajax=favorite&ajax_action=remove&pid='+post_id;}
jQuery.ajax({url:fav_url,type:'GET',dataType:'html',timeout:20000,error:function(){alert(geodir_all_js_msg.loading_listing_error_favorite);},success:function(html){jQuery('.favorite_property_'+post_id).html(html);}});return false;}
jQuery(document).ready(function(){jQuery('.gd_rating').jRating({bigStarsPath:geodir_all_js_msg.geodir_default_rating_star_icon,smallStarsPath:geodir_all_js_msg.geodir_plugin_url+'/geodirectory-assets/images/small.png',phpPath:geodir_all_js_msg.geodir_plugin_url+'/jRating.php',type:'big',step:true,isDisabled:false,showRateInfo:true,canRateAgain:true,length:5,decimalLength:0,rateMax:5,rateInfosX:-45,rateInfosY:5,nbRates:100,onSuccess:function(element,rate){jQuery('#geodir_overallrating').val(rate);},onError:function(){alert(geodir_all_js_msg.rating_error_msg);}});});jQuery(document).ready(function(){jQuery('.button-primary').click(function(){var error=false;var characterReg=/^\s*[a-zA-Z0-9,\s]+\s*$/;var listing_prefix=jQuery('#geodir_listing_prefix').val();var location_prefix=jQuery('#geodir_location_prefix').val();var listingurl_separator=jQuery('#geodir_listingurl_separator').val();var detailurl_separator=jQuery('#geodir_detailurl_separator').val();if(listing_prefix==''){alert(geodir_all_js_msg.listing_url_prefix_msg);jQuery('#geodir_listing_prefix').focus();error=true;}
if(/^[a-z0-90\_9_-]*$/.test(listing_prefix)==false&&listing_prefix!=''){jQuery('#geodir_listing_prefix').focus();alert(geodir_all_js_msg.invalid_listing_prefix_msg);error=true;}
if(location_prefix==''){alert(geodir_all_js_msg.location_url_prefix_msg);jQuery('#geodir_location_prefix').focus();error=true;}
if(!characterReg.test(location_prefix)&&location_prefix!=''){alert(geodir_all_js_msg.invalid_location_prefix_msg);jQuery('#geodir_location_prefix').focus();error=true;}
if(error==true){return false;}else{return true;}});});jQuery(document).ready(function(){jQuery('.map_post_type').click(function(){var divshow=jQuery(this).val();if(jQuery(this).is(':checked'))
{jQuery('#'+divshow+' input').each(function(){jQuery(this).attr('checked','checked');});}else{jQuery('#'+divshow+' input').each(function(){jQuery(this).removeAttr('checked');});}});});
;var wpAjax=jQuery.extend({unserialize:function(a){var b,c,d,e,f={};if(!a)return f;b=a.split("?"),b[1]&&(a=b[1]),c=a.split("&");for(d in c)(!jQuery.isFunction(c.hasOwnProperty)||c.hasOwnProperty(d))&&(e=c[d].split("="),f[e[0]]=e[1]);return f},parseAjaxResponse:function(a,b,c){var d={},e=jQuery("#"+b).html(""),f="";return a&&"object"==typeof a&&a.getElementsByTagName("wp_ajax")?(d.responses=[],d.errors=!1,jQuery("response",a).each(function(){var b,e=jQuery(this),g=jQuery(this.firstChild);b={action:e.attr("action"),what:g.get(0).nodeName,id:g.attr("id"),oldId:g.attr("old_id"),position:g.attr("position")},b.data=jQuery("response_data",g).text(),b.supplemental={},jQuery("supplemental",g).children().each(function(){b.supplemental[this.nodeName]=jQuery(this).text()}).size()||(b.supplemental=!1),b.errors=[],jQuery("wp_error",g).each(function(){var e,g,h,i=jQuery(this).attr("code");e={code:i,message:this.firstChild.nodeValue,data:!1},g=jQuery('wp_error_data[code="'+i+'"]',a),g&&(e.data=g.get()),h=jQuery("form-field",g).text(),h&&(i=h),c&&wpAjax.invalidateForm(jQuery("#"+c+' :input[name="'+i+'"]').parents(".form-field:first")),f+="<p>"+e.message+"</p>",b.errors.push(e),d.errors=!0}).size()||(b.errors=!1),d.responses.push(b)}),f.length&&e.html('<div class="error">'+f+"</div>"),d):isNaN(a)?!e.html('<div class="error"><p>'+a+"</p></div>"):(a=parseInt(a,10),-1==a?!e.html('<div class="error"><p>'+wpAjax.noPerm+"</p></div>"):0===a?!e.html('<div class="error"><p>'+wpAjax.broken+"</p></div>"):!0)},invalidateForm:function(a){return jQuery(a).addClass("form-invalid").find("input:visible").change(function(){jQuery(this).closest(".form-invalid").removeClass("form-invalid")})},validateForm:function(a){return a=jQuery(a),!wpAjax.invalidateForm(a.find(".form-required").filter(function(){return""===jQuery("input:visible",this).val()})).size()}},wpAjax||{noPerm:"You do not have permission to do that.",broken:"An unidentified error has occurred."});jQuery(document).ready(function(a){a("form.validate").submit(function(){return wpAjax.validateForm(a(this))})});
;var tmlAjax;(function($){tmlAjax={overlay:$('<div id="tml_ajax_overlay" />'),window:$('<div id="tml_ajax_window" />'),content:$('<div id="tml_ajax_content" />'),init:function(){$('li.tml_ajax_link a, a.tml_ajax_link').attr('href',function(i,href){if(href.indexOf('?')===-1)
return href+'?ajax=1';else
return href+'&ajax=1';}).click(function(e){e.preventDefault();this.blur();tmlAjax.process(this.href,'GET');});$(window).resize(function(){tmlAjax.reposition();});},process:function(url,type,data){var t=this;$.ajax({url:url,data:data,type:type,success:function(data){var r=wpAjax.parseAjaxResponse(data);if(r===false){t.show(data);}else{if(r.errors){$.each(r.responses,function(){t.show(this.supplemental.html);});}else{$.each(r.responses,function(){t.show(this.data);if(this.supplemental.success==1){t.overlay.off('click').click(function(){t.hide();setTimeout(function(){location.reload();},500);});}});}}}});},show:function(content){if(document.getElementById('tmlAjaxOverlay')===null){this.overlay.appendTo('body').fadeTo('slow',0.75);this.overlay.click(this.hide);}
if(document.getElementById('tmlAjaxWindow')===null){this.window.appendTo('body').fadeIn('slow');}
if(document.getElementById('tmlAjaxContent')===null){this.content.appendTo(this.window);}
this.content.html(content);this.window.trigger('show');this.content.find(':input:visible:first').focus();this.window.find('form').submit(function(e){e.preventDefault();tmlAjax.process($(this).attr('action'),'POST',$(this).serialize());});this.window.find('.tml-action-links a').click(function(e){e.preventDefault();this.blur();tmlAjax.process(this.href,'GET');});this.window.find('.tml-user-links a').attr('target','_parent');this.reposition();},hide:function(){tmlAjax.window.trigger('hide').fadeOut('slow',function(){tmlAjax.window.unbind().remove();});tmlAjax.overlay.fadeTo('slow',0,function(){tmlAjax.overlay.unbind().remove();});},reposition:function(){this.window.css({marginTop:'-'+parseInt((this.window.outerHeight()/2),10)+'px',marginLeft:'-'+parseInt((this.window.outerWidth()/2),10)+'px'});}}
$(document).ready(tmlAjax.init);})(jQuery);